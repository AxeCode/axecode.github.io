---
layout: post
title: "什么是线程"
date: 2015-06-01 21:44:33 +0800
comments: true
categories: 技术
---
> 要成就一个复杂的系统，各部分必须分工明确，各司其职。 —— 《人工科学》

## 线程和进程

在上篇文章中（[进程描述和控制](/jin-cheng-miao-shu-he-kong-zhi/)），提出的进程概
念包含两个特点：

+ **资源所有权**：一个进程拥有包括一个存放进程映像的虚拟地址空间。一个进程总是拥
  有对于资源的控制或所有权。操作系统提供对于资源访问的保护功能。

+ **调度/执行**：一个进程具有一个执行状态和一个被分配的优先级，它是一个可以被操
  作系统调度和分派的实体。

分派的单位通常称为线程或轻量级进程；而拥有资源所有权的单位通常仍称为进程或者任务。

#### 多线程

**多线程**是指在操作系统单个进程内支持多个并发执行路径的能力。对应的每个进程只有
一个线程在执行的称为**单线程方法**。

在多线程环境中，进程被定义成资源分配的单位和一个被保护的单位。在一个进程中，可能
有一个或者多个线程，与进程相关的有：

+ 存放进程映像的虚拟地址空间
+ 受保护的对处理器、其他进程、文件和I/O资源的访问。
+ 线程执行状态（运行、就绪等）。
+ 在未运行时保存的线程上下文。
+ 一个执行栈。
+ 用于每个线程局部变量的静态存储空间。
+ 与进程内的其他线程共享的对进程的内存和资源的访问。
